<!doctype html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sosyal Ag Graf</title>
  <link rel="stylesheet" href="./styles.css">
  <script src="https://unpkg.com/vis-network@9.1.2/dist/vis-network.min.js"></script>
</head>
<body>
  <button id="toggle-sidebar" class="sidebar-toggle" aria-expanded="true">Close sidebar</button>
  <div class="layout">
    <aside id="sidebar" class="sidebar">
      <div class="sidebar-content">
        <header class="hero">
          <div>
            <p class="eyebrow">Sosyal Ag Graf</p>
            <h1>Hizli deneme arayuzu</h1>
            <p class="subtitle">Dugum ve kenar ekle, BFS/DFS calistir.</p>
          </div>
        </header>

        <section class="card file-list-card">
          <div class="section-heading">
            <h2>Dosyalariniz</h2>
            <span class="muted tiny">CSV / Excel</span>
          </div>
          <ul id="file-list" class="list compact">
            <li class="muted">Henuz dosya yok</li>
          </ul>
          <button id="merge-files" type="button" class="ghost fullwidth tiny-btn merge-btn">
            <ion-icon name="git-merge-outline"></ion-icon>
            Merge secili iki dosya
          </button>
        </section>

        <section class="card save-card">
          <div class="section-heading">
            <h2>Kalici kayitlar</h2>
            <button id="refresh-saves" type="button" class="ghost tiny-btn" aria-label="Yenile">
              <ion-icon name="refresh-circle-outline"></ion-icon>
            </button>
          </div>
          <form id="save-form" class="stack">
            <label>Kayit adi
              <input id="save-name" name="save-name" placeholder="orn. Calisma 1" required>
            </label>
            <button id="save-graph" type="submit">Kaydet</button>
          </form>
          <div class="saved-list-wrap">
            <ul id="saved-list" class="list compact">
              <li class="muted">Henuz kayit yok</li>
            </ul>
          </div>
        </section>

        <button id="quick-toggle" class="accordion-toggle" aria-expanded="false">
          Hizli Deneme
          <span class="chevron" aria-hidden="true">+</span>
        </button>

        <div id="quick-panel" class="accordion-panel" hidden>
          <section class="card node-info-card">
            <button id="node-info-toggle" class="accordion-toggle inner-toggle" aria-expanded="true" type="button">
              Secili Dugum
              <span class="chevron" aria-hidden="true">−</span>
            </button>
            <div id="node-info-panel" class="node-info-panel">
              <div class="selected-row inline">
                <div class="selected-info">
                  <span class="badge">Secili</span>
                  <div id="node-info-label" class="selected-label">Dugum secilmedi</div>
                </div>
                <button id="delete-node-info" type="button" class="danger tiny-btn">Sil</button>
              </div>
              <div class="node-info-list">
                <div class="info-item"><span>ID</span><strong id="node-info-id">-</strong></div>
                <div class="info-item"><span>Etiket</span><strong id="node-info-name">-</strong></div>
                <div class="info-item"><span>Baglanti</span><strong id="node-info-degree">-</strong></div>
                <div class="info-item"><span>Komsular</span><strong id="node-info-neighbors">-</strong></div>
              </div>
            </div>
          </section>
          <section class="card">
            <h2>Dugum ekle</h2>
            <form id="node-form" class="stack">
              <label>Kimlik
                <input name="id" required placeholder="orn. A">
              </label>
              <label>Etiket
                <input name="label" placeholder="Gosterilecek ad (istege bagli)">
              </label>
              <button type="submit">Dugum ekle</button>
            </form>
          </section>

          <section class="card">
            <h2>Kenar ekle</h2>
            <form id="edge-form" class="stack">
              <label>Kaynak
                <input name="from" required placeholder="orn. A">
              </label>
              <label>Hedef
                <input name="to" required placeholder="orn. B">
              </label>
              <label>Agirlik
                <input name="weight" type="number" step="any" placeholder="Istege bagli">
              </label>
              <button type="submit">Kenar ekle</button>
            </form>
          </section>

          <section class="card">
          <h2>Algoritma calistir</h2>
          <form id="algo-form" class="stack">
            <label>Algoritma
              <select name="algorithm" id="algorithm-select" class="algo-select">
                <option value="bfs">BFS</option>
                <option value="dfs">DFS</option>
              </select>
            </label>
            <div class="legend">
              <span class="legend-item"><span class="dot dot-bfs"></span>BFS</span>
              <span class="legend-item"><span class="dot dot-dfs"></span>DFS</span>
            </div>
            <label>Baslangic dugumu
              <input name="start" required placeholder="orn. A">
            </label>
            <div class="algo-actions">
              <button type="submit">Calistir</button>
              <button type="button" id="sim-toggle" class="ghost">Simulasyon baslat</button>
              <button type="button" id="sim-reset" class="ghost">Sifirla</button>
              <label class="sim-speed">Hiz
                <select id="sim-speed" name="sim-speed">
                  <option value="1">1x</option>
                  <option value="1.25">1.25x</option>
                  <option value="1.5">1.5x</option>
                  <option value="2">2x</option>
                </select>
              </label>
            </div>
          </form>
            <pre id="algo-result" class="output" aria-live="polite">Sonuclar burada gorunecek</pre>
            <div class="simulation-panel">
              <div class="section-heading">
                <h3>Simulasyon durumu</h3>
                <span id="sim-status" class="muted tiny">Hazir</span>
              </div>
              <div class="sim-grid">
                <div>
                  <div class="sim-label" id="sim-frontier-label">Kuyruk</div>
                  <div id="sim-frontier" class="sim-box">-</div>
                </div>
                <div>
                  <div class="sim-label">Mevcut dugum</div>
                  <div id="sim-current" class="sim-box">-</div>
                </div>
                <div>
                  <div class="sim-label">Ziyaret edilen</div>
                  <div id="sim-visited" class="sim-box">-</div>
                </div>
                <div>
                  <div class="sim-label">Kenar gecisi</div>
                  <div id="sim-edge" class="sim-box">-</div>
                </div>
              </div>
            </div>
          </section>

          <section class="card">
        <div class="section-heading">
          <h2>Graf ozeti</h2>
          <button id="reset-graph" type="button" class="ghost">Temizle</button>
        </div>
        <div id="selected-row" class="selected-row hidden" aria-live="polite">
          <div class="selected-info">
            <span class="badge">Secili</span>
            <div id="selected-label" class="selected-label"></div>
          </div>
          <button id="delete-selected" type="button" class="danger">Sil</button>
        </div>
        <div class="summary-grid">
          <div>
            <h3>Dugumler</h3>
            <ul id="node-list" class="list"></ul>
          </div>
            <div>
              <h3>Kenarlar</h3>
              <ul id="edge-list" class="list"></ul>
            </div>
          </div>
        </section>
        </div>

        <section class="card file-card">
          <div class="section-heading">
            <h2>Dosya yukle</h2>
            <span class="muted">CSV / Excel</span>
          </div>
          <form id="file-form" class="stack">
            <input id="file-input" type="file" accept=".csv,.xls,.xlsx" />
            <button type="submit">Yukle</button>
          </form>
          <p id="file-status" class="muted tiny">Henuz dosya secilmedi</p>
        </section>
      </div>
    </aside>

    <main class="graph-area">
      <section class="card graph-card">
        <div class="section-heading">
          <h2>Graf gorunumu</h2>
          <span class="muted">Vis-network ile</span>
        </div>
        <div id="graph-viewport" class="graph" aria-label="Graf"></div>
      </section>

      <section class="card coloring-card">
        <div class="section-heading">
          <h2>Coloring sonuclari</h2>
          <button id="coloring-run" type="button" class="ghost">Renklendir</button>
        </div>
        <p id="coloring-status" class="muted tiny">Hazir</p>
        <div id="coloring-legend" class="color-legend"></div>
        <div id="coloring-results" class="coloring-results">
          <div class="muted">Henuz renklendirme yok</div>
        </div>
      </section>
    </main>
  </div>

  <div id="confirm-overlay" class="modal-overlay" hidden>
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="confirm-title">
      <h3 id="confirm-title">Kaydi sil</h3>
      <p id="confirm-message" class="muted">Silmek istediginize emin misiniz?</p>
      <div class="modal-actions">
        <button id="confirm-cancel" type="button" class="ghost">Iptal</button>
        <button id="confirm-approve" type="button" class="danger">Sil</button>
      </div>
    </div>
  </div>

  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
  <script src="../src/main.js" type="module"></script>
</body>
</html>
